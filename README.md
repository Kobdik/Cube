# Кобдик
Кобдик (Kobdik) - инструмент бизнес-аналитики (BI), написанный заново с нуля, с целью реализовать новую парадигму по формированию сводных отчётов в разрезе иерархических измерений (деревьев).

Главное отличие от существующих инструментов BI - автоматическая поддержка агрегирования (количества, суммы, минимума, максимума, среднего арифметического значения, можно добавить и среднеквадратичного) по измерениям, представляющим собой несбалансированные деревья. Такие деревья содержат ветви разной глубины и сложности, что может являться следствием естественного отражения структуры данных. Например, реальная оргструктура предприятия, справочники статей и элементов затрат, дерево проекта, дерево решений и т.д.

Другой немаловажный фактор - исключительная скорость вычисления итогов по иерархическим измерениям, для связанных отчётов средней глубины вложенности - более чем стократное ускорение. Дело в удвоении вычислительной сложности для стандартных подходов при каждом увеличении глубины иерархии. Kobdik не боится глубоких деревьев, увеличение вложенности ведёт к небольшому увеличению сложности, затухающему с каждым новым уровнем (N / N-1).

Существующие инструменты, такие как Power BI, Tableau, Qlik Sense избегают работы с несбалансированными деревьями измерений путём искусственного приведения к симметричной структуре многократным дублированием родительских элементов. Такой подход вызывает перерасход вычислительных ресурсов, замедление работы приложения, а самое главное - без участия программиста не реализуем.


Kobdik - интерактивное представление, которое преобразует аналитические данные в понятные, действенные инсайты и рекомендации для конкретной аудитории с целью информирования и помощи в принятии бизнес-решений.

[Интерактивная демонстрация](https://kobdik.github.io/Cube/pfa.html)

Выберите в каждом измерении некоторые элементы, например, 1-й квартал, План 2025, Материальные затраты, Подразделение 1 и четыре связанные сводные таблицы заполнятся данными.

# Основные функциональные возможности

Kobdik поддерживает основные операции инструмента для быстрого ad-hoc анализа и прототипирования отчетов, такие как:
1. детализация вглубь (drill-dn) путём раскрытия детализации (expanding)
2. агрегирование (drill-up) путём скрытия детализации (collapsing)
3. кросс-фильтрация (cross-filtering) всех взаимосвязанных сводных отчётов
4. гибкий факт-план анализ (actual vs. forecast analysis)

Кросс-фильтрация - это, когда кликая на элементах измерений в одном сводном отчёте, получаем мгновенную фильтрацию данных, т.е. изменяем срезы данных (slicing) во всех связанных отчётах.

Механизм факт-план анализа превосходит возможности стандартного подхода, как в Power BI, где всё сводится к вводу новых мер: факта, плана и их разницы. Вместо этого вводится специальный режим, который активируется или деактивируется при нажатии на соответствующем элементе вида "А - Б", это может быть "Факт - План", "Выручка - Себестоимость" (валовая прибыль). При этом в одном отчёте мы видим строки уменьшаемого, вычитаемого и разницы, а в связанных отчётах - расшифровку этой разности по соответствующим измерениям.

Гибкость инструмента позволяет задействовать комбинацию из двух (и более) разностей. В одном отчёте выбираем разность факта и плана, в другом - разность выручки и себестоимости проданного, получая в итоге, во всех связанных отчётах, разницу между фактической и плановой валовой прибылью.

Для проведения факт-план анализа в одно специальное измерение собраны элементы факта, начального плана и корректировок плана за разные годы. Одна корректировка может затрагивать элементы материальных затрат, другая - элементы заработной платы конкретного подразделения и т.д. Такая модель позволяет в одном сводном отчёте исследовать разницы между фактами и планами разных лет, легко переключаясь на обычный режим просмотра факта или плана интересующего года с выбранными корректировками.

![Факт-План с корректировками](./images/План-Факт.png)

Возможность включать или отключать отдельные корректировки плана, отдельные элементы выручки или себестоимости продаж позволяет оценить итоговое влияние на соответствующие разницы.

# Перспективы развития продукта



детализация (drill-through) при наличии ссылки контекстно-зависимого перехода
чтобы ответить на вопрос "а что если?"